<section class="row section-field">

  <h5 class="center"> {{titulo}} </h5>

  <br>
  <div class="row">
    <div class="col s12 blue-grey darken-1 ">
      <!--header das abas-->
      <ul class="tabs tabsvendedor blue-grey darken-1  row">
        <li class="tab col s3 "><a class="active font-normal" href="#dados1">Dados do pacientes</a></li>
        <li class="tab col s3 "><a class="active font-normal" href="#dados2">Dados da consulta</a></li>
        <li class="tab col s3 "><a class="active font-normal" href="#exame">Exames</a></li>
        <li class="tab col s3 "><a class="active font-normal" href="#documento">Prescrição</a></li>
      </ul>
    </div>

    <!-- formulario para resgistar consulta -->
    <form class="col m10 push-m1" method="post" enctype="multipart/form-data">

      <!--pagina das abas dados do paciente-->
      <section id="dados1" class="col s12 m12 row">
        <div class="row col push-m2 m8">
          <br>
          <div class="row col m12">
            <div class="input-field col s12 m3">
              <input id="id" type="text" name="id" value="{{id_paciente}}" class="validate" disabled>
              <label for="id" style="text-transform: capitalize;">Número:</label>
            </div>
            <div class="input-field col s12 m9">
              <input id="nome" type="text" name="nome" value="{{nome}}" class="validate">
              <label for="nome" style="text-transform: capitalize;">Nome Completo:</label>
            </div>
          </div>

          <div class="row center">
            <div class=" input-radio col s12 m6 ">
              <label>
                <input type="radio" value="Masculino" id="masc" name="genero" class="with-gap" checked>
                <span for="masc">Masculino </span>
              </label>
              <label>
                <input type="radio" value="Feminino" id="fem" name="genero" class="with-gap" {{genero}}>
                <span for="fem">Feminino</span>
              </label>
            </div>
            <div class="input-field col s12 m6 ">
              <input id="nascimento" type="text" name="nascimento" class="datepicker" value="{{data}}">
              <label for="nascimento" style="text-transform: capitalize;">Data de nascimento:</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12 m6">
              <input id="telefone1" type="text" name="telefone1" value="{{telefone1}}" />
              <label for="telefone1" style="text-transform: capitalize;">Telefone:</label>
            </div>

            <div class="input-field col s12 m6">
              <input class="validate" id="email" type="text" data-length="60" name="email" value="{{email}}" />
              <label for="email" style="text-transform: capitalize;">E-mail:</label>
            </div>

            

            <div class="input-field col s12 m12">
              <input id="morada" type="text" data-length="100" name="morada" value="{{morada}}" />
              <label for="morada" style="text-transform: capitalize;">Endereço Completo</label>
            </div>
          </div>


        </div>
      </section>

      <!--pagina das abas dados consulta-->
      <section id="dados2" class="col m12 s12">
        <div class="row col push-m2 m8">
          <br>
          <div class="input-field col s12 m12">
            <input id="motivo" type="text" name="motivo" value="{{motivo}}" class="validate">
            <label for="motivo" style="text-transform: capitalize;">Motivo da consulta:</label>
          </div>

          <div class="input-field col s12 m12">
            <input id="Observação" type="text" name="obs" value="{{obs}}" class="validate">
            <label for="Observação" style="text-transform: capitalize;">Observação:</label>
          </div>

          <div class="input-field col s12 m12">
            <input id="Diagnóstico" type="text" name="diagnostico" value="{{diagnostico}}" class="validate">
            <label for="Diagnóstico" style="text-transform: capitalize;">Diagnóstico:</label>
          </div>
        </div>

      </section>

      <!--Aba exame-->
      <section id="exame" class="col m12 s12">
        <div class="row col push-m2 m8">
          <br>
          <table class=" responsive-table">
            <thead>
              <tr>
                <th class="grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Tipo</th>
                <th class="grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Nome</th>
                <th class="grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Paramentro</th>
                <th class="grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Nivel de Urgencia</th>
                <th class=" grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Ação</th>
              </tr>
            </thead>
            <tbody id="tabela-body">
              <tr>
                <td><input type="text" name="exameTipo[]" class="validate" rred></td>
                <td><input type="text" name="exameNome[]" class="validate" quired></td>
                <td><input type="text" name="exameParametro[]" class="validate" equired></td>
                <td><input type="text" name="exameUrgencia[]" class="validate" equired></td>
                <td class="center">
                  <a class="tooltip-container btn red white-text" onclick="removerLinha(this)">
                    <i class="material-icons center">delete</i>
                    <div class="custom-tooltip font-normal ">Remover linha de exame</div>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>

          <div class="row center ">
            <br>
            <br>
            <a class="tooltip-container btn blue" onclick="adicionarLinha()">
              <i class="material-icons center">add</i>
              <div class="custom-tooltip font-normal ">Adicionar linha de exame</div>
            </a>
          </div>
        </div>

      </section>

      <!--Aba prescriçºao-->
      <div id="documento" class="col m12 s12">
        <br>
        <div class="col push-m2 m8">
          <table class=" responsive-table">
            <thead>
              <tr>
                <th class="grey lighten-1 font-normal " style="border-right: 2px solid #fcfcfc;">Medicamento</th>
                <th class="grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Via de Administraçao
                </th>
                <th class="grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Posologia</th>

                <th class=" grey lighten-1 font-normal" style="border-right: 2px solid #fcfcfc;">Ação</th>
              </tr>
            </thead>
            <tbody id="tabela-body1">
              <tr>
                <td><input type="text" name="receitaMedicamento[]" class="validate" quired></td>
                <td><input type="text" name="receitaVia[]" class="validate" equired></td>
                <td><input type="text" name="receitaPosologia[]" class="validate" equired></td>
                <td class="center">

                  <a class="tooltip-container  btn red white-text" onclick="removerLinha1(this)">
                    <i class="material-icons center">delete</i>
                    <div class="custom-tooltip font-normal ">Remover linha de prescrição</div>
                  </a>

                </td>
              </tr>
            </tbody>
          </table>

          <div class="row center ">
            <br>
            <br>
            <a class="tooltip-container btn blue" onclick="adicionarLinha1()">
              <i class="material-icons center">add</i>
              <div class="custom-tooltip font-normal ">Adicionar mais prescrição</div>
            </a>
          </div>

        </div>
      </div>

      <div class="div-input push-m9 col s12 m2 row ">
        <button class=" col m12 btn  white-text  font-normal" name="salvar" type="submit">{{button}}</button>
      </div>

    </form>

  </div>
</section>


<script src="{{URL}}/Assets/js/main.js"></script>

<script>
  function adicionarLinha() {
    const tabela = document.getElementById('tabela-body');
    const novaLinha = tabela.rows[0].cloneNode(true);
    const inputs = novaLinha.querySelectorAll('input');
    inputs.forEach(input => input.value = '');
    tabela.appendChild(novaLinha);
  }

  function adicionarLinha1() {
    const tabela = document.getElementById('tabela-body1');
    const novaLinha = tabela.rows[0].cloneNode(true);
    const inputs = novaLinha.querySelectorAll('input');
    inputs.forEach(input => input.value = '');
    tabela.appendChild(novaLinha);
  }

  function removerLinha(botao) {
    const linha = botao.closest('tr');
    const tabela = document.getElementById('tabela-body');
    if (tabela.rows.length > 1) {
      linha.remove();
    } else {
      M.toast({ html: 'A tabela deve conter pelo menos uma linha.', classes: 'red' });
    }
  }
  function removerLinha1(botao) {
    const linha = botao.closest('tr');
    const tabela = document.getElementById('tabela-body1');
    if (tabela.rows.length > 1) {
      linha.remove();
    } else {
      M.toast({ html: 'A tabela deve conter pelo menos uma linha.', classes: 'red' });
    }
  }
</script>